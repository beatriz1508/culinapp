<div class="competition-summary">
  <div class="user-avatar">
    <%= image_tag(current_user.avatar.presence || "avatar02.svg", class: "avatar") %>
  </div>

  <div class="user-rank-info">
    <div class="your-score">âœ… You are currently <strong><%= @current_user_recipe_rank %>Âº</strong> in Recipes with <strong><%= current_user.reviews.count %></strong> Tasks</div>
    <div class="your-score">ğŸ–ï¸ You are <strong><%= @current_user_badge_rank %>Âº</strong> in Badges with <strong><%= badge_count_for(current_user) %></strong> Badges</div>
  </div>
</div>

<!-- Recipes Ranking Title OUTSIDE the table -->
<div class="table-title">Recipes Ranking</div>

<table>
  <thead>
    <tr>
      <th>Rank</th>
      <th>User</th>
      <th>Recipes</th>
    </tr>
  </thead>

  <tbody>
    <% @users.each_with_index do |user, index| %>
      <tr class="<%= rank_class_for(index) %>">
        <td><%= index + 1 %></td>
        <td class="user-info">
          <%= image_tag(user.avatar.presence || "avatar02.svg", class: "avatar") %>
          <span class="user-email"><%= user.email %></span>
        </td>
        <td><%= user.reviews.count %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="table-title">Badges Ranking</div>

<table>
  <thead>
    <tr>
      <th>Rank</th>
      <th>User</th>
      <th>Badges</th>
    </tr>
  </thead>

  <tbody>
    <% @users_badges_ranking.each_with_index do |user, index| %>
      <tr class="<%= rank_class_for(index) %>">
        <td><%= index + 1 %></td>
        <td class="user-info">
          <%= image_tag(user.avatar.presence || "avatar02.svg", class: "avatar") %>
          <span class="user-email"><%= user.email %></span>
        </td>
        <td><%= badge_count_for(user) %></td>
      </tr>
    <% end %>
  </tbody>
</table>
